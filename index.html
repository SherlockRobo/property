抱歉，因为代码篇幅较长，导致最后一部分被截断了。

请**删除**你刚才粘贴的代码中最后那个**不完整**的 `Card`（即 `{/* 3. 长期财富账本 (Split View) */}` 开始的部分），然后把下面的代码**粘贴到那个位置**，直到文件结束。

这是**后半部分**的完整代码（包含剩下的逻辑、卖房推演 Tab、以及文件结尾）：

```javascript
                                    {/* 3. 长期财富账本 (Split View) - 重新开始完整部分 */}
                                    <Card className="shadow-sm border-t-4 border-t-orange-400">
                                        <CardHeader className="pb-2 border-b bg-slate-50">
                                            <CardTitle className="text-lg flex items-center gap-2">
                                                <Icons.Banknote className="w-5 h-5" /> 3. 长期财富账本 (Real Cost View)
                                            </CardTitle>
                                        </CardHeader>
                                        <CardContent className="p-4 space-y-4">
                                            
                                            <div className="grid grid-cols-2 gap-4">
                                                {/* 左侧：买房真实消耗 */}
                                                <div className="space-y-2">
                                                    <div className="text-xs font-bold text-orange-800 uppercase tracking-wider mb-1">买房真实消耗 (Burn)</div>
                                                    <div className="text-xl font-bold text-orange-700">-${formatMoney(results?.monthly_buy_burn)}</div>
                                                    <div className="text-xs text-slate-500 space-y-1 border-l-2 border-orange-100 pl-2">
                                                        <div className="flex justify-between"><span>利息(扔水里)</span><span className="text-red-500">-${formatMoney(results?.totalInterest1stYear / 12)}</span></div>
                                                        <div className="flex justify-between"><span>杂费</span><span className="text-red-500">-${formatMoney((results?.monthlyMgmtFee*12 + results?.ratesYear + results?.govRentYear)/12)}</span></div>
                                                        <div className="flex justify-between"><span>税收抵扣</span><span className="text-green-600">+${formatMoney(results?.salaryTaxSave / 12)}</span></div>
                                                        <div className="flex justify-between pt-1 border-t border-dashed text-indigo-600 font-bold"><span>本金(强制储蓄)</span><span>${formatMoney(results?.monthlyPayment - results?.totalInterest1stYear/12)}</span></div>
                                                    </div>
                                                </div>

                                                {/* 右侧：租房真实消耗 */}
                                                <div className="space-y-2 border-l pl-4">
                                                    <div className="text-xs font-bold text-slate-600 uppercase tracking-wider mb-1">租房真实消耗 (Burn)</div>
                                                    <div className="text-xl font-bold text-orange-700">-${formatMoney(results?.monthly_rent_burn)}</div>
                                                    <div className="text-xs text-slate-500 space-y-1 border-l-2 border-slate-200 pl-2">
                                                        <div className="flex justify-between"><span>租金(扔水里)</span><span className="text-red-500">-${formatMoney(results?.monthlyMarketRent)}</span></div>
                                                        <div className="flex justify-between opacity-50"><span>储蓄</span><span>$0</span></div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="bg-orange-50 p-3 rounded-lg border border-orange-100 grid grid-cols-2 gap-4">
                                                <div>
                                                    <div className="text-xs font-medium text-orange-900 mb-1">每月积累 (Monthly)</div>
                                                    <div className="text-xl font-bold text-orange-700">+${formatMoney(results?.save_vs_renting_month)}</div>
                                                </div>
                                                <div className="border-l border-orange-200 pl-4">
                                                    <div className="text-xs font-medium text-orange-900 mb-1">每年积累 (Yearly)</div>
                                                    <div className="text-xl font-bold text-orange-700">+${formatMoney(results?.save_vs_renting_year)}</div>
                                                </div>
                                            </div>
                                            <div className="text-[10px] text-slate-400 text-right">* 正数代表买房比租房多攒下的净资产</div>

                                        </CardContent>
                                    </Card>
                                </div>
                            )}

                            {/* TAB 2: 卖房推演 */}
                            {activeTab === 'exit' && (
                                <div className="space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300">
                                    <Card className="shadow-sm border-2 border-indigo-600 overflow-hidden">
                                        <CardHeader className="pb-3 bg-indigo-600 text-white">
                                            <CardTitle className="text-lg flex items-center gap-2">
                                                <Icons.Scale className="w-5 h-5" /> 退出策略与模式对比
                                            </CardTitle>
                                        </CardHeader>
                                        <CardContent className="pt-4 space-y-6">
                                            
                                            {/* 模拟设置 */}
                                            <div className="bg-indigo-50 p-3 rounded-lg space-y-4">
                                                <div className="flex justify-between items-center">
                                                    <Label className="text-indigo-900 font-bold">假设持有年限: {inputs.holdingYears} 年</Label>
                                                </div>
                                                <Slider 
                                                    value={[inputs.holdingYears]} 
                                                    max={30} 
                                                    min={1} 
                                                    step={1} 
                                                    onValueChange={(val) => handleSliderChange('holdingYears', val[0])}
                                                    className="py-2"
                                                />
                                                
                                                <div className="flex justify-between items-center pt-2">
                                                    <Label className="text-indigo-900 font-bold">假设每年房价涨幅: {inputs.appreciationRate}%</Label>
                                                </div>
                                                <Slider 
                                                    value={[inputs.appreciationRate]} 
                                                    max={10} 
                                                    min={-10} 
                                                    step={0.5} 
                                                    onValueChange={(val) => handleSliderChange('appreciationRate', val[0])}
                                                    className="py-2"
                                                />
                                                <div className="text-xs text-indigo-600 text-right">
                                                    {inputs.holdingYears}年后房价预测: ${formatMoney(results?.futurePrice)}
                                                </div>
                                            </div>

                                            {/* 对比表格 */}
                                            <div className="border rounded-lg overflow-hidden">
                                                <div className="grid grid-cols-3 bg-slate-100 p-2 text-xs font-bold text-slate-600 text-center">
                                                    <div className="text-left pl-2">项目 ({inputs.holdingYears}年总计)</div>
                                                    <div className="text-orange-700">自住模式 (Self)</div>
                                                    <div className="text-blue-700">出租模式 (Rent)</div>
                                                </div>

                                                {/* 运营收益 */}
                                                <div className="grid grid-cols-3 p-2 text-sm border-b">
                                                    <div className="text-slate-600 pl-2 flex flex-col justify-center">
                                                        <span className="font-bold">运营净收益</span>
                                                        <span className="text-[10px] text-slate-400">租金/省租 - 支出 - 利息</span>
                                                    </div>
                                                    <div className="text-center font-medium text-orange-700 flex items-center justify-center">
                                                        ${formatMoney(results?.self_operating_profit)}
                                                    </div>
                                                    <div className="text-center font-medium text-blue-700 flex items-center justify-center">
                                                        ${formatMoney(results?.rent_operating_profit)}
                                                    </div>
                                                </div>

                                                {/* 资本利得 (修正后) */}
                                                <div className="grid grid-cols-3 p-2 text-sm border-b bg-slate-50/50">
                                                    <div className="text-slate-600 pl-2 flex flex-col justify-center">
                                                        <span className="font-bold">资本利得 (卖房)</span>
                                                        <span className="text-[10px] text-slate-400">涨幅 + <span className="text-indigo-600 font-bold">已还本金</span> - 交易成本</span>
                                                    </div>
                                                    <div className="col-span-2 text-center font-medium text-slate-700 flex items-center justify-center">
                                                        ${formatMoney(results?.total_capital_profit)}
                                                    </div>
                                                </div>
                                                
                                                {/* 补充说明本金部分 */}
                                                <div className="grid grid-cols-3 p-1 text-[10px] text-slate-400 border-b bg-slate-50/30">
                                                    <div className="text-right pr-2 col-span-1">其中已还本金:</div>
                                                    <div className="col-span-2 text-center text-indigo-600 font-medium">
                                                        +${formatMoney(results?.sim_totalPrincipalPaid)}
                                                    </div>
                                                </div>

                                                {/* 总利润 */}
                                                <div className="grid grid-cols-3 p-3 bg-slate-100 font-bold text-base">
                                                    <div className="pl-2 flex items-center">总利润 (P&L)</div>
                                                    <div className={`text-center ${results?.self_total_profit > 0 ? 'text-green-600' : 'text-red-600'}`}>
                                                        ${formatMoney(results?.self_total_profit)}
                                                    </div>
                                                    <div className={`text-center ${results?.rent_total_profit > 0 ? 'text-green-600' : 'text-red-600'}`}>
                                                        ${formatMoney(results?.rent_total_profit)}
                                                    </div>
                                                </div>

                                                {/* 年化回报率 */}
                                                <div className="grid grid-cols-3 p-2 bg-indigo-900 text-white text-sm">
                                                    <div className="pl-2 flex items-center">年化回报率 (IRR)</div>
                                                    <div className="text-center font-bold text-lg">
                                                        {formatPct(results?.self_roi_annualized)}
                                                    </div>
                                                    <div className="text-center font-bold text-lg">
                                                        {formatPct(results?.rent_roi_annualized)}
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="text-[11px] text-slate-500 space-y-1 bg-slate-50 p-2 rounded">
                                                <p className="flex items-start gap-1"><Icons.CheckCircle2 className="w-3 h-3 mt-0.5 text-green-600"/> <b>修正说明</b>：此版本已将“已偿还本金”计入卖房收益。你在供楼时偿还的本金，在卖房还清贷款后会回到你手中，这是强制储蓄，不是消费。</p>
                                            </div>

                                        </CardContent>
                                    </Card>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PropertyCalculator />);
    </script>
</body>
</html>
```
